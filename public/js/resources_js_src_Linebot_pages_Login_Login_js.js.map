{"version":3,"sources":["webpack://soat-maintain/./resources/js/src/Linebot/pages/Login/Login.js"],"names":["Login","useState","user","setUser","pass","setPass","userAuth","useSelector","state","userline","useLocation","search","history","useHistory","dispatch","useDispatch","useBodyClass","useScript","useEffect","path","URLSearchParams","localStorage","getItem","push","get","loggedIn","handleSubmit","e","preventDefault","userActions","window","location","href","event","target","value"],"mappings":"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","file":"js/resources_js_src_Linebot_pages_Login_Login_js.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport liff from \"@line/liff\";\r\n\r\nimport { useBodyClass, useScript } from \"../../../helpers\";\r\n\r\nimport { userActions } from \"../../redux/actions\";\r\n\r\nconst Login = () => {\r\n    const [user, setUser] = useState();\r\n    const [pass, setPass] = useState();\r\n\r\n    const userAuth = useSelector((state) => state.userline);\r\n\r\n    const { search } = useLocation();\r\n    let history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    useBodyClass(\"hold-transition\");\r\n    useBodyClass(\"skin-yellow\");\r\n    useBodyClass(\"sidebar-mini\");\r\n    useScript(\"/officer/bower_components/bootstrap/dist/js/bootstrap.min.js\");\r\n\r\n    useEffect(() => {\r\n        let path = new URLSearchParams(search);\r\n\r\n        if (!localStorage.getItem(\"linetoken\")) {\r\n            history.push(\"/linebot/verify?path=\" + path.get(\"path\"));\r\n        }\r\n\r\n        if (userAuth.loggedIn) {\r\n            history.push(path.get(\"path\"));\r\n        }\r\n    }, [userAuth, history, search]);\r\n\r\n    let handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        dispatch(userActions.login(user, pass));\r\n    };\r\n\r\n    return (\r\n        <div className=\"wrapper\">\r\n            <Helmet>\r\n                <meta\r\n                    name=\"description\"\r\n                    content=\"บริษัทโซแอ็ท โซลูชั่น จำกัด\"\r\n                />\r\n                <meta property=\"og:locale\" content=\"th_TH\" />\r\n                <meta property=\"og:type\" content=\"website\" />\r\n                <meta\r\n                    property=\"og:title\"\r\n                    content=\"บริษัทโซแอ็ท โซลูชั่น จำกัด\"\r\n                />\r\n                <meta\r\n                    property=\"og:description\"\r\n                    content=\"บริษัทโซแอ็ท โซลูชั่น จำกัด\"\r\n                />\r\n                <meta property=\"og:url\" content={window.location.href} />\r\n                <link rel=\"canonical\" href={window.location.href} />\r\n                <meta\r\n                    property=\"og:site_name\"\r\n                    content=\"บริษัทโซแอ็ท โซลูชั่น จำกัด\"\r\n                />\r\n                <link\r\n                    rel=\"stylesheet\"\r\n                    href=\"/officer/bower_components/bootstrap/dist/css/bootstrap.min.css\"\r\n                />\r\n                <link\r\n                    rel=\"stylesheet\"\r\n                    href=\"/officer/bower_components/font-awesome/css/font-awesome.min.css\"\r\n                />\r\n                <link\r\n                    rel=\"stylesheet\"\r\n                    href=\"/officer/bower_components/Ionicons/css/ionicons.min.css\"\r\n                />\r\n\r\n                <link rel=\"stylesheet\" href=\"/officer/plugins/iCheck/all.css\" />\r\n\r\n                <link rel=\"stylesheet\" href=\"/officer/dist/css/AdminLTE.css\" />\r\n                <link\r\n                    rel=\"stylesheet\"\r\n                    href=\"/officer/dist/css/skins/_all-skins.min.css\"\r\n                />\r\n                <link rel=\"stylesheet\" href=\"/officer/dist/css/style.css\" />\r\n                <link\r\n                    rel=\"stylesheet\"\r\n                    href=\"https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic\"\r\n                />\r\n            </Helmet>\r\n            <div className=\"login-box login-page\">\r\n                <div className=\"login-logo\">\r\n                    <a href=\"../../index2.html\">\r\n                        <b>Soat</b>Officer\r\n                    </a>\r\n                </div>\r\n                {/* /.login-logo */}\r\n                <div className=\"login-box-body\">\r\n                    <p className=\"login-box-msg\">\r\n                        Sign in to start your session{\" \"}\r\n                    </p>\r\n                    <form onSubmit={(e) => handleSubmit(e)}>\r\n                        {/* <img id=\"pictureUrl\" /> */}\r\n                        <input id=\"userId\" hidden />\r\n                        <input id=\"token\" hidden />\r\n                        <div className=\"form-group has-feedback\">\r\n                            <input\r\n                                type=\"email\"\r\n                                onChange={(event) =>\r\n                                    setUser(event.target.value)\r\n                                }\r\n                                className=\"form-control\"\r\n                                placeholder=\"Email\"\r\n                                required\r\n                            />\r\n                            <span className=\"glyphicon glyphicon-envelope form-control-feedback\" />\r\n                        </div>\r\n                        <div className=\"form-group has-feedback\">\r\n                            <input\r\n                                type=\"password\"\r\n                                onChange={(event) =>\r\n                                    setPass(event.target.value)\r\n                                }\r\n                                className=\"form-control\"\r\n                                placeholder=\"Password\"\r\n                                required\r\n                            />\r\n                            <span className=\"glyphicon glyphicon-lock form-control-feedback\" />\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            {/* /.col */}\r\n                            <div className=\"col-xs-4\">\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-primary btn-block btn-flat\"\r\n                                >\r\n                                    Sign In\r\n                                </button>\r\n                            </div>\r\n                            {/* /.col */}\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n"],"sourceRoot":""}